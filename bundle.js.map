{"version":3,"sources":["webpack:///webpack/bootstrap 891680630c79d700171a","webpack:///./lib/entry.js","webpack:///./lib/game_view.js","webpack:///./lib/game.js","webpack:///./lib/circle.js","webpack:///./lib/utils.js"],"names":["document","addEventListener","Canvas","getElementById","width","body","clientWidth","height","clientHeight","ctx","getContext","gameView","start","GameView","game","canvas","lastTime","update","time","dt","render","window","requestAnimationFrame","dTime","Game","circles","addCircles","i","length","j","forEach","circle","clearRect","r","Math","floor","random","x","y","push","COLORS","Circle","momentum","color","nextX","nextY","fillStyle","beginPath","arc","PI","fill","randomVec","sqrt","DIMS","innerWidth","innerHeight","checkCollision","c1","c2","xDiff","yDiff","dist","scale","handleCollision","slope","mag","norm","ratioX","ratioY","addX1","magn","addY1","addX2","addY2","c"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 891680630c79d700171a\n **/","import GameView from './game_view';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const Canvas = document.getElementById('canvas');\n  Canvas.width = document.body.clientWidth;\n  Canvas.height = document.body.clientHeight;\n  const ctx = Canvas.getContext('2d');\n  const gameView = new GameView(ctx);\n  gameView.start();\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/entry.js\n **/","import Game from './game';\n\nclass GameView {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.game = new Game(ctx.canvas.width, ctx.canvas.height);\n    this.lastTime = 0;\n  }\n\n  start() {\n    this.update(0);\n  }\n\n  update(time) {\n    let dt = time - this.lastTime;\n    this.lastTime = time;\n    this.game.update(dt / 20);\n    this.game.render(this.ctx);\n    window.requestAnimationFrame(dTime => {\n      this.update(dTime);\n    });\n  }\n}\n\nexport default GameView;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/game_view.js\n **/","import Circle from './circle';\nimport { DIMS, checkCollision } from './utils';\nclass Game {\n  constructor(width, height) {\n    this.width = width;\n    this.height = height;\n    this.circles = [];\n    this.addCircles();\n  }\n\n  update(dt) {\n    for (var i = 0; i < this.circles.length; i++) {\n      for (var j = i+1; j < this.circles.length; j++) {\n        checkCollision(this.circles[i], this.circles[j]);\n      }\n    }\n    this.circles.forEach(circle => {\n      circle.update(dt);\n    });\n  }\n\n  render(ctx) {\n    ctx.clearRect(0, 0, DIMS[0], DIMS[1]);\n    this.circles.forEach(circle => {\n      circle.render(ctx);\n    });\n  }\n\n  addCircles() {\n    for (var i = 0; i < 25; i++) {\n      const r = Math.floor(Math.random() * i*4) + 3;\n      const x = Math.floor(Math.random() * (this.width - 2*r)) + r;\n      const y = Math.floor(Math.random() * (this.height - 2*r)) + r;\n      const circle = new Circle(x, y, r);\n      this.circles.push(circle);\n    }\n  }\n}\n\nexport default Game;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/game.js\n **/","import { randomVec, DIMS } from './utils';\n\nconst COLORS = [\n  'red',\n  'black',\n  'blue',\n  'purple',\n  'pink',\n  'green',\n  'yellow'\n];\n\nclass Circle {\n  constructor(x, y, r) {\n    this.x = x;\n    this.y = y;\n    this.r = r;\n    this.momentum = randomVec(10);\n    this.color = 'rgba(0, 0, 0, 0.7)';\n  }\n\n  update(dt) {\n\n    const nextX = this.x + this.momentum[0] * dt / this.r;\n    const nextY = this.y + this.momentum[1] * dt / this.r;\n    if (nextX > (DIMS[0] - this.r) || nextX < this.r) {\n      this.momentum[0] *= -1;\n    }\n    if (nextY > (DIMS[1] - this.r) || nextY < this.r) {\n      this.momentum[1] *= -1;\n    }\n    this.x += (this.momentum[0] * dt / this.r);\n    this.y += (this.momentum[1] * dt / this.r);\n  }\n\n  render(ctx) {\n    ctx.fillStyle = this.color;\n    ctx.beginPath();\n    ctx.arc(this.x, this.y, this.r, 0, 2*Math.PI);\n    ctx.fill();\n  }\n\n}\n\nexport default Circle;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/circle.js\n **/","export const randomVec = length => {\n  const x = Math.random() * length;\n  const y = Math.sqrt((length * length) - (x * x));\n  return [x, y];\n};\n\nexport const DIMS = [\n  window.innerWidth,\n  window.innerHeight\n];\n\nexport const checkCollision = (c1, c2) => {\n  const xDiff = c1.x - c2.x;\n  const yDiff = c1.y - c2.y;\n  const dist = Math.sqrt((xDiff * xDiff) + (yDiff * yDiff));\n  if (dist <= (c1.r + c2.r)) {\n      const scale = (c1.r + c2.r) / dist;\n      c1.x = c2.x + xDiff * scale;\n      c1.y = c2.y + yDiff * scale;\n      // handleCollision(c1, c2);\n    // c1.momentum[0] *= -1;\n    // c1.momentum[1] *= -1;\n    // c2.momentum[0] *= -1;\n    // c2.momentum[1] *= -1;\n  }\n};\n\nconst handleCollision = (c1, c2) => {\n  const slope = [(c1.x - c2.x), (c1.y - c2.y)];\n  const mag = Math.sqrt(slope[0] * slope[0] + slope[1] * slope[1]);\n  const norm = [slope[0] / mag, slope[1] / mag];\n  const ratioX = mag / slope[0];\n  const ratioY = mag / slope[1];\n  const addX1 = norm[0] * magn(c1);\n  const addY1 = norm[1] * magn(c1);\n  const addX2 = norm[0] * magn(c2);\n  const addY2 = norm[1] * magn(c2);\n\n  c1.momentum[0] += addX1;\n  c1.momentum[1] += addY1;\n  c2.momentum[0] += addX2;\n  c2.momentum[1] += addY2;\n};\n\nconst magn = c => {\n  return Math.sqrt((c.momentum[0]*c.momentum[0]) + (c.momentum[1]*c.momentum[1]));\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/utils.js\n **/"],"sourceRoot":""}